# diesel-guard configuration file
# Copy this file to diesel-guard.toml and customize as needed

# Framework configuration (REQUIRED)
# Specify which migration framework you're using
# Valid values: "diesel" or "sqlx"
framework = "diesel"
# framework = "sqlx"

# Skip checking migrations created before this timestamp
# Useful for retrofitting diesel-guard into existing projects
#
# Timestamp format depends on your framework:
#   Diesel: YYYYMMDDHHMMSS, YYYY_MM_DD_HHMMSS, or YYYY-MM-DD-HHMMSS
#           Examples: 20240101000000, 2024_01_01_000000, 2024-01-01-000000
#   SQLx:   YYYYMMDDHHMMSS (14 digits, no separators)
#           Example: 20240101000000
#
# Works with any format - diesel-guard normalizes timestamps for comparison
# start_after = "20240101000000"

# Check rollback migrations (down.sql files or -- migrate:down sections)
# Default: false (only checks forward migrations)
#
# Set to true if you want to ensure rollback migrations are also safe
# check_down = false

# Disable specific safety checks
# Valid check names:
#   - AddColumnCheck          (ADD COLUMN with DEFAULT)
#   - AddIndexCheck           (CREATE INDEX without CONCURRENTLY)
#   - AddNotNullCheck         (ALTER COLUMN SET NOT NULL)
#   - AlterColumnTypeCheck    (ALTER COLUMN TYPE)
#   - DropColumnCheck         (DROP COLUMN)
#
# Example: Disable checking for ADD COLUMN and DROP COLUMN operations
# disable_checks = ["AddColumnCheck", "DropColumnCheck"]
#
# Default: [] (all checks enabled)
# disable_checks = []

# Directory containing custom Rhai check scripts (.rhai files)
# Each script receives a pg_query AST node and can return violations.
# Use `diesel-guard dump-ast --sql "..."` to inspect the AST structure.
# custom_checks_dir = "checks"
